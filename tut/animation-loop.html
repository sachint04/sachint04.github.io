<!doctype html>
<html>
<head>
	<meta charset="UTF-8">

	<title>Document</title>
	  <link href='http://fonts.googleapis.com/css?family=Trade+Winds' rel='stylesheet' type='text/css'>
	<script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
	<style type="text/css">
		.center{
			position: relative;
			width: 300px;
			margin:0 auto;			
		}
		.box{
			width: 20px;
			height: 20px;
			float:left;
			position: relative;
			border-radius: 25px;
			border:2px solid black;
		}
		/* Create lights on right sides */
		.box:nth-child(11),
		.box:nth-child(12),
		.box:nth-child(13){
			clear:both;
			float: right;
		}
		.box:nth-child(14),
		.box:nth-child(15),
		.box:nth-child(16),
		.box:nth-child(17),
		.box:nth-child(18),
		.box:nth-child(19),
		.box:nth-child(20),
		.box:nth-child(21){
			float: right;			
		}
		.box:nth-child(23){
			clear: both;
			margin-top: -72px;
		}
		.box:nth-child(24){
			clear: both;
			margin-top: -48px;
		}
		.container{
			height:98px;
			width: 240px;
			border:1px solid;
			position: relative;
			border: 5px solid;\
			overflow: hidden;
			background-color:black;
			/*border-radius:15px;*/
			margin: 0 auto;
		}
		/* Created Heading in middle */
		h1{
			 color: #FF0000;
		    font-family: 'Trade Winds',monospace;
		    font-size: 1.5em;
		    left: 41px;
		    position: absolute;
		    top: 13px;
		}
		
		.btHolder{
			width: 190px;
			margin: 0 auto;
			display: block;
		}
		input[type="button"]{
			min-width: 70px;
			border-radius:5px 5px 5px;
			border:1px solid gray; 
			height:30px;
			margin: 10px 10px 0;
			cursor: pointer;
			font-weight: bold;
		}
		</style>
</head>
<body>
	<div class="center">
	<div class="container">
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<h1>DevilsCloud</h1>
	</div>
		
	<div class="btHolder">
		<input id="start" type="button" value="Start">
		<input id="stop" type="button" value="Stop">
	</div>
	</div>
<SCRIPT TYPE="text/javascript">
	$(document).ready(function(){
	//define parameters
	var len =  $(".box").length;
	var counter = -1;
	var canPlay = false;
	var start;
	
	var effects = [ "red",	"yellow"];

// Initiate animation sequence
	var	initSequence = function(){
		if(!canPlay)return;
		
		if(counter < len-1){
			counter++;
			animate($(".box").eq(counter), {backgroundColor:effects[0]}, {backgroundColor:effects[1]})
		}else{
			//swap styles in effects array
			$(".container h1").css("color", effects[1])
			counter = -1;
			effects.reverse();
			initSequence();  
		}
	}	

	// execute animate function on Element  
	function animate(_elem, _start, _end){
		console.log($(_elem).id + " animate: "+ _start.backgroundColor + " | "+ _end.backgroundColor);
		$(_elem).css(_start);//set default state;
		
		//initiate animation
		$(_elem).animate(
			_end,50,function(){
				initSequence();
			}
		);
	}
	
	//Define click events for "Start" and "Stop" button
	$("input#start").click(function(){
		
		if(!canPlay){
			canPlay = true;
				initSequence();
		}
	})
	$("input#stop").click(function(){
		canPlay = false;
	})
	
})
</SCRIPT>
</body>
</html>